# 내용 요약

## 5장 형식 맞추기

코드 형식은 의사소통의 일환이다.

**적절한 행 길이를 유지하라**

500줄을 넘지 않고 대부분 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있음. 반드시 지킬 엄격한 규칙은 아니지만 바람직한 규칙으로 삼기. 일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.

**개념은 빈 행으로 분리하라**

빈 행은 새로운 개념을 시작한다는 시각적 단서다. 코드를 읽어 내려가다 보면 빈 행 다음 줄에 눈길이 멈춘다.

**세로 밀집도**

서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.

**수직 거리**

함수 연관 관계와 동작 방식을 이해하려고 이 함수에서 저 함수로 오가며 소스 파일을 위아래로 뒤지는 등 뺑뺑이를 돌았으나 결국은 미로같은 코드 때문에 혼란만 가중된 경험이 있다면..  
서로 밀접한 개념은 세로로 가까이 둬야 한다. (서로 다른 파일에 속한다면 규칙이 통하지 않는다.)

같은 파일에 속할 정도로 밀접한 두 개념은 세로 거리로 연관성을 표현한다.

종속 함수 -> 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치. 호출하는 함수를 호출되는 함수보다 먼저 배치.

개념적 유사성 -> 개념적인 친화도가 높을수록 코드를 가까이 배치. 한 함수가 다른 함수를 호출해 생기는 직접적인 종속성, 변수와 그 변수를 사용하는 함수, 비슷한 동작을 수행하는 일군의 함수 등.

**가로 공백과 밀집도**

승수 사이에는 공백이 없다. 곱셈이 가장 우선순위가 높기 때문.

불행히도, 코드 형식을 자동으로 맞춰주는 도구는 대다수가 연산자 우선순위를 고려하지 못하므로, 수식에 똑같은 간격을 적용한다.

---

## 6장 객체와 자료 구조

절차적인 클래스, 다형적인 클래스는 상호 보완적인 특질이 있다. -> 객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉬우며, 절차적인 코드에서 어려운 변경은 객체 지향 코드에서 쉽다.

**디미터 법칙**

모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다.

```java
Options opts = ctxt.getOptions();
File scratchDir = opts.getScratchDir();
final String outputDir = scratchDir.getAbsolutePath();
```

위 코드가 객체라면 내부 구조를 숨겨야 하므로 확실히 디미터 법칙을 위반한다. 반면, 자료구조라면 당연히 내부 구조를 노출하므로 디미터 법칙이 적용되지 않는다.

---

## 7장 오류 처리

**Try-Catch-Finally 문 부터 작성하라**

강제로 예외를 일으키는 테스트 케이스를 작성한 후 테스트를 통과하게 코드를 작성하는 방법을 권장한다.  
그러면 자연스럽게 try 블록의 트랜잭션 범위부터 구현하게 되므로 범위 내에서 트랜잭션 본질을 유지하기 쉬워진다.

**호출자를 고려해 예외 클래스를 정의하라**

애플리케이션에서 오류를 정의할 때 프로그래머에게 가장 중요한 관심사는 오류를 잡아내는 방법이 되어야 한다.

**null을 반환하지 마라**

일거리를 늘릴 뿐만 아니라 호출자에게 문제를 떠넘긴다. (null 확인이 많아 문제)

# 중요하다고 생각하는 부분

프로그래머라면 각자 선호하는 규칙이 있다. 하지만 팀에 속한다면 자신이 선호해야 할 규칙은 바로 팀 규칙이다.

좋은 소프트웨어 시스템은 읽기 쉬운 문서로 이뤄진다.

# 인사이트

평소에 개발하면서 팀 규칙을 정하긴 했지만 지켜지지 않는 경우도 꽤 있었다. 규칙이 중요하다고 생각하긴 했지만 그 이유에 대해 알게 되서 앞으로 진행하게 되는 프로젝트에서는 좀 더 규칙이 잘 지켜질 수 있도록 해야겠다고 생각했다.
