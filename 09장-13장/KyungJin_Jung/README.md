- [9장. 단위 테스트](#9장-단위-테스트)
  - [9-1) TDD 법칙 세 가지](#9-1-tdd-법칙-세-가지)
  - [9-2) 깨끗한 테스트 코드 작성의 중요성](#9-2-깨끗한-테스트-코드-작성의-중요성)
  - [9-3) 깨끗한 테스트 코드: 가독성](#9-3-깨끗한-테스트-코드-가독성)
  - [9-4) F.I.R.S.T](#9-4-first)
    - [✔️ 1. **F**ast (빠르게)](#️-1-fast-빠르게)
    - [✔️ 2. **I**ndependent (독립적으로)](#️-2-independent-독립적으로)
    - [✔️ 3. **R**epeatable (반복가능하게)](#️-3-repeatable-반복가능하게)
    - [✔️ 4. **S**elf-Validating (자가검증하는)](#️-4-self-validating-자가검증하는)
    - [✔️ 5. **T**imely (적시에)](#️-5-timely-적시에)

<br>

# 9장. 단위 테스트
## 9-1) TDD 법칙 세 가지
1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

<br>

## 9-2) 깨끗한 테스트 코드 작성의 중요성
> **테스트 코드는 실제 코드 못지 않게 중요하다.<br>실제 코드 못지 않게 깨끗하게 짜야 한다.**

- 테스트 케이스가 있으면 변경이 두렵지 않다. <br>테스트 케이스가 없다면 모든 변경이 잠정적인 버그이다.
아키텍처가 아무리 유연하더라도, 설계를 아무리 잘 나눴더라도 **테스트 케이스가 없으면 개발자는 변경을 주저한다**.<br><br> 
- 테스트 케이스가 있다면 공포는 사라진다. 테스트 커버리지가 높을 수록 공포는 줄어든다.<br>
아키텍처가 부실하거나 설계가 엉망인 코드라도 안심하고 개선할 수 있다.<br><br>
- 그러므로 실제 코드를 점검하는 **자동화된 단위 테스트 슈트**는 설계와 아키텍처를 최대한 깨끗하게 보존하는 열쇠이다.<br>
**테스트는 유연성, 유지보수성, 재사용성을 제공한다.**<br><br>
- 테스트 코드가 지저분할수록 실제 코드도 지저분해진다. 결국 테스트 코드를 잃어버리고 실제 코드도 망가진다.

<br>

## 9-3) 깨끗한 테스트 코드: 가독성
깨끗한 테스트 코드를 만들려면 세 가지가 필요하다.
1. 가독성
2. 가독성
3. 가독성

**어쩌면 가독성은 실제 코드보다 테스트 코드에 더더욱 중요하다.**

<br>

## 9-4) F.I.R.S.T
깨끗한 테스트는 다음 다섯 가지 규칙을 따른다.

### ✔️ 1. **F**ast (빠르게)
**테스트는 빨리 돌아야 한다.**<br>
테스트가 느리면 자주 돌릴 엄두를 못 낸다. 자주 돌리지 않으면 결국 코드 품질이 망가지게 된다.

### ✔️ 2. **I**ndependent (독립적으로)
**각 테스트는 서로 의존하면 안 된다.**<br>
한 테스트가 다른 테스트가 실행될 환경을 준비해서는 안 된다. 각 테스트는 독립적으로 그리고 어떤 순서로 실행해도 괜찮아야 한다.

테스트가 서로에게 의존하면 하나가 실패할 때 나머지도 잇달아 실패하므로, 원인을 진단하기 어려워지며 후반 테스트가 찾아낼 결함이 숨겨진다.


### ✔️ 3. **R**epeatable (반복가능하게)
**테스트는 어떤 환경에서도 반복 가능해야 한다.**<br>
실제 환경, QA 환경, 버스를 타고 집으로 가는 길에 사용하는<sup>네트워크가 연결되지 않은 </sup> 노트북 환경에서도 실행할 수 있어야 한다.

### ✔️ 4. **S**elf-Validating (자가검증하는)
**테스트는 bool 값으로 결과를 내야 한다.**<br>
통과 여부를 알려고 로그 파일을 읽게 하거나, 텍스트 파일 두 개를 수작업으로 비교하게 만들어서는 안 된다.

### ✔️ 5. **T**imely (적시에)
**테스트는 적시에 작성되어야 한다.**<br>
단위 테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.
실제 코드를 구현한 다음에 테스트 코드를 만들면 실제 코드가 테스트하기 어렵다는 사실을 발견할지도 모른다.

----
